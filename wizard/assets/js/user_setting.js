$(d).ready(function(){
$('#change_dp_form').change(function(){$(this).submit()});$('.datepicker').pickadate({selectMonths:true,max:true,selectYears:100,format:'dd-mm-yyyy'});
$('#change_dp_form').submit(function(e){PD(e);t=$(this);page_loader();$.ajax({type:'post',url:URL+'userpageforms/change_pic',processData:false,contentType:false,data:new FormData(this),dataType:'json',complete:function(){page_loader_exit()},success:function(res){if(res.error){Materialize.toast(res.error,2000,'red accent-3 bold-500')}if(res.success && res.new_file){$('.profile-image').attr('src',URL+'assets/members_picture/'+res.new_file);$('.profile_display').attr('src',URL+'assets/members_picture/'+res.new_file);Materialize.toast('<i class="fa fa-thumbs-o-up"></i> &nbsp; Profile image changed successfully!',2000,'success-area green')}}})})
$('#update_user_basic').submit(function(e){PD(e);t=$(this);page_loader();$('.submit-btn').prop('disabled',true);$.ajax({type:'post',url:URL+'userpageforms/change_basic',data:t.serialize(),complete:function(){page_loader_exit();$('.submit-btn').prop('disabled',false)},dataType:'json',success:function(res){if(res.fn){$('.fn-err').text(res.fn)}else{$('.fn-err').text('')}if(res.ln){$('.ln-err').text(res.ln)}else{$('.ln-err').text('')}if(res.gn){$('.gn-err').text(res.gn)}else{$('.gn-err').text('')}if(res.dob){$('.dob-err').text(res.dob)}else{$('.dob-err').text('')}if(res.success){Materialize.toast('<i class="fa fa-thumbs-o-up"></i> &nbsp; Changes saved successfully!',2000,'success-area green')}}})})
$('#update_user_password').submit(function(e){PD(e);t=$(this);page_loader();$('.submit-btn-pw').prop('disabled',true);$.ajax({type:'post',url:URL+'userpageforms/user_changing_password',data:t.serialize(),complete:function(){page_loader_exit();$('.submit-btn-pw').prop('disabled',false)},dataType:'json',success:function(res){if(res.old_pw){$('.oldpw-err').text(res.old_pw)}else{$('.oldpw-err').text('')}if(res.new_pw){$('.newpw-err').text(res.new_pw)}else{$('.newpw-err').text('')}if(res.c_new_pw){$('.cnewpw-err').text(res.c_new_pw)}else{$('.cnewpw-err').text('')}if(res.success){Materialize.toast('<i class="fa fa-thumbs-o-up"></i> &nbsp; Password changed successfully!',3000,'success-area green');t[0].reset();t.find('label').removeClass('active')}}})})})